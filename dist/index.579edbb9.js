var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n=function(t){return t&&t.Math==Math&&t};e=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")();var r,o;r=!(o=function(t){try{return!!t()}catch(t){return!0}})((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}));var i,a,s,u={},c="object"==typeof document&&document.all,l=(s={all:c,IS_HTMLDDA:void 0===c&&void 0!==c}).all;u=s.IS_HTMLDDA?function(t){return"function"==typeof t||t===l}:function(t){return"function"==typeof t};var p,f={},d={};p=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}));var v=Function.prototype,h=v.call,m=p&&v.bind.bind(h,h);d=p?m:function(t){return function(){return h.apply(t,arguments)}};var g,y,b;b=function(t){return null==t};var _=TypeError;y=function(t){if(b(t))throw _("Can't call method on "+t);return t};var w=Object;g=function(t){return w(y(t))};var k=d({}.hasOwnProperty);f=Object.hasOwn||function(t,e){return k(g(t),e)};var S,O=Function.prototype,j=r&&Object.getOwnPropertyDescriptor,P=f(O,"name"),E={EXISTS:P,PROPER:P&&"something"===function(){}.name,CONFIGURABLE:P&&(!r||r&&j(O,"name").configurable)}.CONFIGURABLE,M={},I={},T=Object.defineProperty;S=function(t,n){try{T(e,t,{value:n,configurable:!0,writable:!0})}catch(r){e[t]=n}return n};var D="__core-js_shared__",F=e[D]||S(D,{});I=F;var C=d(Function.toString);u(I.inspectSource)||(I.inspectSource=function(t){return C(t)}),M=I.inspectSource;var $,A,W=e.WeakMap;A=u(W)&&/native code/.test(String(W));var N={},q=s.all;N=s.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:u(t)||t===q}:function(t){return"object"==typeof t?null!==t:u(t)};var x,R,z,B={},G=e.document,H=N(G)&&N(G.createElement);z=function(t){return H?G.createElement(t):{}},R=!r&&!o((function(){return 7!=Object.defineProperty(z("div"),"a",{get:function(){return 7}}).a}));var J;J=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}));var U,V=String,Z=TypeError;U=function(t){if(N(t))return t;throw Z(V(t)+" is not an object")};var K,X,Y={},Q=Function.prototype.call;Y=p?Q.bind(Q):function(){return Q.apply(Q,arguments)};var tt,et={},nt=function(t){return u(t)?t:void 0};tt=function(t,n){return arguments.length<2?nt(e[t]):e[t]&&e[t][n]};var rt={};rt=d({}.isPrototypeOf);var ot,it,at,st={};st=tt("navigator","userAgent")||"";var ut,ct,lt=e.process,pt=e.Deno,ft=lt&&lt.versions||pt&&pt.version,dt=ft&&ft.v8;dt&&(ct=(ut=dt.split("."))[0]>0&&ut[0]<4?1:+(ut[0]+ut[1])),!ct&&st&&(!(ut=st.match(/Edge\/(\d+)/))||ut[1]>=74)&&(ut=st.match(/Chrome\/(\d+)/))&&(ct=+ut[1]),at=ct,it=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&at&&at<41})),ot=it&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var vt=Object;et=ot?function(t){return"symbol"==typeof t}:function(t){var e=tt("Symbol");return u(e)&&rt(e.prototype,vt(t))};var ht,mt,gt,yt=String;gt=function(t){try{return yt(t)}catch(t){return"Object"}};var bt=TypeError;mt=function(t){if(u(t))return t;throw bt(gt(t)+" is not a function")},ht=function(t,e){var n=t[e];return b(n)?void 0:mt(n)};var _t,wt=TypeError;_t=function(t,e){var n,r;if("string"===e&&u(n=t.toString)&&!N(r=Y(n,t)))return r;if(u(n=t.valueOf)&&!N(r=Y(n,t)))return r;if("string"!==e&&u(n=t.toString)&&!N(r=Y(n,t)))return r;throw wt("Can't convert object to primitive value")};var kt;(kt=function(t,e){return I[t]||(I[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.27.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE",source:"https://github.com/zloirock/core-js"});var St,Ot=0,jt=Math.random(),Pt=d(1..toString);St=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Pt(++Ot+jt,36)};var Et=kt("wks"),Lt=e.Symbol,Mt=Lt&&Lt.for,It=ot?Lt:Lt&&Lt.withoutSetter||St,Tt=TypeError,Dt=function(t){if(!f(Et,t)||!it&&"string"!=typeof Et[t]){var e="Symbol."+t;it&&f(Lt,t)?Et[t]=Lt[t]:Et[t]=ot&&Mt?Mt(e):It(e)}return Et[t]}("toPrimitive");X=function(t,e){if(!N(t)||et(t))return t;var n,r=ht(t,Dt);if(r){if(void 0===e&&(e="default"),n=Y(r,t,e),!N(n)||et(n))return n;throw Tt("Can't convert object to primitive value")}return void 0===e&&(e="number"),_t(t,e)},K=function(t){var e=X(t,"string");return et(e)?e:e+""};var Ft=TypeError,Ct=Object.defineProperty,$t=Object.getOwnPropertyDescriptor,At="enumerable",Wt="configurable",Nt="writable";x=r?J?function(t,e,n){if(U(t),e=K(e),U(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Nt in n&&!n[Nt]){var r=$t(t,e);r&&r[Nt]&&(t[e]=n.value,n={configurable:Wt in n?n[Wt]:r[Wt],enumerable:At in n?n[At]:r[At],writable:!1})}return Ct(t,e,n)}:Ct:function(t,e,n){if(U(t),e=K(e),U(n),R)try{return Ct(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ft("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var qt;qt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},B=r?function(t,e,n){return x(t,e,qt(1,n))}:function(t,e,n){return t[e]=n,t};var xt,Rt=kt("keys");xt=function(t){return Rt[t]||(Rt[t]=St(t))};var zt={};zt={};var Bt,Gt,Ht,Jt="Object already initialized",Ut=e.TypeError,Vt=e.WeakMap;if(A||I.state){var Zt=I.state||(I.state=new Vt);Zt.get=Zt.get,Zt.has=Zt.has,Zt.set=Zt.set,Bt=function(t,e){if(Zt.has(t))throw Ut(Jt);return e.facade=t,Zt.set(t,e),e},Gt=function(t){return Zt.get(t)||{}},Ht=function(t){return Zt.has(t)}}else{var Kt=xt("state");zt[Kt]=!0,Bt=function(t,e){if(f(t,Kt))throw Ut(Jt);return e.facade=t,B(t,Kt,e),e},Gt=function(t){return f(t,Kt)?t[Kt]:{}},Ht=function(t){return f(t,Kt)}}var Xt=($={set:Bt,get:Gt,has:Ht,enforce:function(t){return Ht(t)?Gt(t):Bt(t,{})},getterFor:function(t){return function(e){var n;if(!N(e)||(n=Gt(e)).type!==t)throw Ut("Incompatible receiver, "+t+" required");return n}}}).enforce,Yt=$.get,Qt=Object.defineProperty,te=r&&!o((function(){return 8!==Qt((function(){}),"length",{value:8}).length})),ee=String(String).split("String"),ne=a=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!f(t,"name")||E&&t.name!==e)&&(r?Qt(t,"name",{value:e,configurable:!0}):t.name=e),te&&n&&f(n,"arity")&&t.length!==n.arity&&Qt(t,"length",{value:n.arity});try{n&&f(n,"constructor")&&n.constructor?r&&Qt(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var o=Xt(t);return f(o,"source")||(o.source=ee.join("string"==typeof e?e:"")),t};Function.prototype.toString=ne((function(){return u(this)&&Yt(this).source||M(this)}),"toString"),i=function(t,e,n){return n.get&&a(n.get,e,{getter:!0}),n.set&&a(n.set,e,{setter:!0}),x(t,e,n)};var re;re=function(){var t=U(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e};var oe=e.RegExp,ie=oe.prototype;r&&o((function(){var t=!0;try{oe(".","d")}catch(e){t=!1}var e={},n="",r=t?"dgimsy":"gimsy",o=function(t,r){Object.defineProperty(e,t,{get:function(){return n+=r,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in t&&(i.hasIndices="d"),i)o(a,i[a]);return Object.getOwnPropertyDescriptor(ie,"flags").get.call(e)!==r||n!==r}))&&i(ie,"flags",{configurable:!0,get:re});var ae,se,ue,ce={}.propertyIsEnumerable,le=Object.getOwnPropertyDescriptor,pe=le&&!ce.call({1:2},1);ue=pe?function(t){var e=le(this,t);return!!e&&e.enumerable}:ce;var fe,de,ve={},he=d({}.toString),me=d("".slice);de=function(t){return me(he(t),8,-1)};var ge=Object,ye=d("".split);ve=o((function(){return!ge("z").propertyIsEnumerable(0)}))?function(t){return"String"==de(t)?ye(t,""):ge(t)}:ge,fe=function(t){return ve(y(t))};var be,_e=Object.getOwnPropertyDescriptor,we=se=r?_e:function(t,e){if(t=fe(t),e=K(e),R)try{return _e(t,e)}catch(t){}if(f(t,e))return qt(!Y(ue,t,e),t[e])};be=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;if(u(n)&&a(n,i,r),r.global)o?t[e]=n:S(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:x(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t};var ke,Se,Oe,je,Pe,Ee={},Le={},Me=Math.ceil,Ie=Math.floor;Le=Math.trunc||function(t){var e=+t;return(e>0?Ie:Me)(e)},Pe=function(t){var e=+t;return e!=e||0===e?0:Le(e)};var Te=Math.max,De=Math.min;je=function(t,e){var n=Pe(t);return n<0?Te(n+e,0):De(n,e)};var Fe,Ce,$e=Math.min;Ce=function(t){return t>0?$e(Pe(t),9007199254740991):0},Fe=function(t){return Ce(t.length)};var Ae=function(t){return function(e,n,r){var o,i=fe(e),a=Fe(i),s=je(r,a);if(t&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===n)return t||s||0;return!t&&-1}},We={includes:Ae(!0),indexOf:Ae(!1)}.indexOf,Ne=d([].push);Oe=function(t,e){var n,r=fe(t),o=0,i=[];for(n in r)!f(zt,n)&&f(r,n)&&Ne(i,n);for(;e.length>o;)f(r,n=e[o++])&&(~We(i,n)||Ne(i,n));return i};var qe,xe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype");Se=Object.getOwnPropertyNames||function(t){return Oe(t,xe)},qe=Object.getOwnPropertySymbols;var Re=d([].concat);Ee=tt("Reflect","ownKeys")||function(t){var e=Se(U(t));return qe?Re(e,qe(t)):e},ke=function(t,e,n){for(var r=Ee(e),o=x,i=se,a=0;a<r.length;a++){var s=r[a];f(t,s)||n&&f(n,s)||o(t,s,i(e,s))}};var ze={},Be=/#|\.prototype\./,Ge=function(t,e){var n=Je[He(t)];return n==Ve||n!=Ue&&(u(e)?o(e):!!e)},He=Ge.normalize=function(t){return String(t).replace(Be,".").toLowerCase()},Je=Ge.data={},Ue=Ge.NATIVE="N",Ve=Ge.POLYFILL="P";ze=Ge,ae=function(t,n){var r,o,i,a,s,u=t.target,c=t.global,l=t.stat;if(r=c?e:l?e[u]||S(u,{}):(e[u]||{}).prototype)for(o in n){if(a=n[o],i=t.dontCallGetSet?(s=we(r,o))&&s.value:r[o],!ze(c?o:u+(l?".":"#")+o,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;ke(a,i)}(t.sham||i&&i.sham)&&B(a,"sham",!0),be(r,o,a,t)}};var Ze,Ke={},Xe=Function.prototype,Ye=Xe.apply,Qe=Xe.call;Ke="object"==typeof Reflect&&Reflect.apply||(p?Qe.bind(Ye):function(){return Qe.apply(Ye,arguments)});var tn,en,nn=(en=function(t){if("Function"===de(t))return d(t)})(en.bind);tn=function(t,e){return mt(t),void 0===e?t:p?nn(t,e):function(){return t.apply(e,arguments)}};var rn={};rn=tt("document","documentElement");var on={};on=d([].slice);var an,sn=TypeError;an=function(t,e){if(t<e)throw sn("Not enough arguments");return t};var un;un=/(?:ipad|iphone|ipod).*applewebkit/i.test(st);var cn;cn="process"==de(e.process);var ln,pn,fn,dn,vn=e.setImmediate,hn=e.clearImmediate,mn=e.process,gn=e.Dispatch,yn=e.Function,bn=e.MessageChannel,_n=e.String,wn=0,kn={},Sn="onreadystatechange";try{ln=e.location}catch(t){}var On=function(t){if(f(kn,t)){var e=kn[t];delete kn[t],e()}},jn=function(t){return function(){On(t)}},Pn=function(t){On(t.data)},En=function(t){e.postMessage(_n(t),ln.protocol+"//"+ln.host)};vn&&hn||(vn=function(t){an(arguments.length,1);var e=u(t)?t:yn(t),n=on(arguments,1);return kn[++wn]=function(){Ke(e,void 0,n)},pn(wn),wn},hn=function(t){delete kn[t]},cn?pn=function(t){mn.nextTick(jn(t))}:gn&&gn.now?pn=function(t){gn.now(jn(t))}:bn&&!un?(dn=(fn=new bn).port2,fn.port1.onmessage=Pn,pn=tn(dn.postMessage,dn)):e.addEventListener&&u(e.postMessage)&&!e.importScripts&&ln&&"file:"!==ln.protocol&&!o(En)?(pn=En,e.addEventListener("message",Pn,!1)):pn=Sn in z("script")?function(t){rn.appendChild(z("script"))[Sn]=function(){rn.removeChild(this),On(t)}}:function(t){setTimeout(jn(t),0)});var Ln=(Ze={set:vn,clear:hn}).clear;ae({global:!0,bind:!0,enumerable:!0,forced:e.clearImmediate!==Ln},{clearImmediate:Ln});var Mn,In,Tn=Ze.set;In="function"==typeof Bun&&Bun&&"string"==typeof Bun.version;var Dn,Fn=e.Function,Cn=/MSIE .\./.test(st)||In&&((Dn=e.Bun.version.split(".")).length<3||0==Dn[0]&&(Dn[1]<3||3==Dn[1]&&0==Dn[2]));Mn=function(t,e){var n=e?2:1;return Cn?function(r,o){var i=an(arguments.length,1)>n,a=u(r)?r:Fn(r),s=i?on(arguments,n):[],c=i?function(){Ke(a,this,s)}:a;return e?t(c,o):t(c)}:t};var $n=e.setImmediate?Mn(Tn,!1):Tn;ae({global:!0,bind:!0,enumerable:!0,forced:e.setImmediate!==$n},{setImmediate:$n});class An{date=new Date;id=(Date.now()+"").slice(-10);clicks=0;constructor(t,e,n){this.coords=t,this.distance=e,this.duration=n}_setDescription(){this.description=`${this.type[0].toUpperCase()}${this.type.slice(1)} on ${["January","February","March","April","May","June","July","August","September","October","November","December"][this.date.getMonth()]} ${this.date.getDate()}`}click(){this.clicks++}}class Wn extends An{type="running";constructor(t,e,n,r){super(t,e,n),this.cadence=r,this.calcPace(),this._setDescription()}calcPace(){return this.pace=this.duration/this.distance,this.pace}}class Nn extends An{type="cycling";constructor(t,e,n,r){super(t,e,n),this.elevationGain=r,this.calcSpeed(),this._setDescription()}calcSpeed(){return this.speed=this.distance/(this.duration/60),this.speed}}const qn=document.querySelector(".form"),xn=document.querySelector(".workouts"),Rn=document.querySelector(".form__input--type"),zn=document.querySelector(".form__input--distance"),Bn=document.querySelector(".form__input--duration"),Gn=document.querySelector(".form__input--cadence"),Hn=document.querySelector(".form__input--elevation"),Jn=document.querySelector(".reset__btn");new class{#t;#e;#n=[];#r=13;constructor(){this._getPosition(),this._getLocalStorage(),qn.addEventListener("submit",this._newWorkout.bind(this)),Rn.addEventListener("change",this._toggleElevationField.bind(this)),xn.addEventListener("click",this._moveToPopup.bind(this)),Jn.addEventListener("click",this.reset)}_getPosition(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this._loadMap.bind(this),(function(){alert("Could not get your position")}))}_loadMap(t){const{latitude:e}=t.coords,{longitude:n}=t.coords,r=[e,n];this.#t=L.map("map").setView(r,this.#r),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.#t),L.marker(r).addTo(this.#t).bindPopup("Hi there!").openPopup(),this.#n.forEach((t=>this._renderWorkoutMarker(t))),this.#t.on("click",this._showForm.bind(this))}_showForm(t){this.#e=t,qn.classList.remove("hidden"),zn.focus()}_hideForm(){zn.value=Bn.value=Hn.value=Gn.value="",qn.style.display="none",qn.classList.add("hidden"),setTimeout((()=>qn.style.display="grid"),1e3)}_toggleElevationField(){Hn.closest(".form__row").classList.toggle("form__row--hidden"),Gn.closest(".form__row").classList.toggle("form__row--hidden")}_newWorkout(t){t.preventDefault();const e=(...t)=>t.every((t=>Number.isFinite(t))),n=(...t)=>t.every((t=>t>0)),r=Rn.value,o=+zn.value,i=+Bn.value,{lat:a,lng:s}=this.#e.latlng;let u;if("running"===r){const t=+Gn.value;if(!e(o,i,t)||!n(o,i,t))return alert("Inputs have to be positive numbers!");u=new Wn([a,s],o,i,t)}if("cycling"===r){const t=+Hn.value;if(!e(o,i,t)||!n(o,i))return alert("Inputs have to be positive numbers!");u=new Nn([a,s],o,i,t)}this.#n.push(u),this._renderWorkoutMarker(u),this._renderWorkout(u),this._hideForm(),this._setLocalStorage()}_renderWorkoutMarker(t){L.marker(t.coords).addTo(this.#t).bindPopup(L.popup({maxWidth:250,minWidth:100,autoClose:!1,closeOnClick:!1,className:`${t.type}-popup`})).setPopupContent(`${"running"===t.type?"ðââï¸":"ð´ââï¸"} ${t.description}`).openPopup()}_renderWorkout(t){let e=`<li class="workout workout--${t.type}" data-id="${t.id}">\n    <h2 class="workout__title">${t.description}</h2>\n    <div class="workout__details">\n      <span class="workout__icon">${"running"===t.type?"ðââï¸":"ð´ââï¸"}</span>\n      <span class="workout__value">${t.distance}</span>\n      <span class="workout__unit">km</span>\n    </div>\n    <div class="workout__details">\n      <span class="workout__icon">â±</span>\n      <span class="workout__value">${t.duration}</span>\n      <span class="workout__unit">min</span>\n    </div>\n   \n    `;"running"===t.type&&(e+=`\n    <div class="workout__details">\n        <span class="workout__icon">â¡ï¸</span>\n        <span class="workout__value">${t.pace}</span>\n        <span class="workout__unit">km/h</span>\n    </div>\n    <div class="workout__details">\n        <span class="workout__icon">ð¦¶ð¼</span>\n        <span class="workout__value">${t.cadence}</span>\n        <span class="workout__unit">m</span>\n    </div>\n    \n  </li>\n  `),"cycling"===t.type&&(e+=`\n      <div class="workout__details">\n        <span class="workout__icon">â¡ï¸</span>\n        <span class="workout__value">${t.speed}</span>\n        <span class="workout__unit">min/km</span>\n      </div>\n      <div class="workout__details">\n        <span class="workout__icon">â°</span>\n        <span class="workout__value">${t.elevationGain}</span>\n        <span class="workout__unit">spm</span>\n      </div>\n     \n    </li>`),qn.insertAdjacentHTML("afterend",e),Jn.style.display="block"}_moveToPopup(t){const e=t.target.closest(".workout");if(!e)return;const n=this.#n?.find((t=>t.id===e.dataset.id));this.#t?.setView(n.coords,this.#r,{animate:!0,pan:{duration:1}})}_setLocalStorage(){localStorage.setItem("workouts",JSON.stringify(this.#n))}_getLocalStorage(){const t=JSON.parse(localStorage.getItem("workouts"));t&&(this.#n=t,this.#n?.forEach((t=>this._renderWorkout(t))))}reset(){localStorage.removeItem("workouts"),location.reload()}};
//# sourceMappingURL=index.579edbb9.js.map
